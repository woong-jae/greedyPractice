#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int road[20][20];

int findMin(int d[][20], int n);
int main()
{
	int n;
	int time[20][20];

	scanf("%d", &n);
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < n; j++) {
			scanf(" %d", &time[i][j]);
		}
	}

	
	printf("%d\n", findMin(time, n));
	system("pause");
}

int findMin(int d[][20], int n)
{
	int min = 0;
	
	for (int i = 0; i < n; i++) {//거쳐가는 노드
		for (int j = 0; j < n; j++) {//출발 노드
			for (int k = 0; k < n; k++) {//도착 노드
				if (i == j || j == k || i == k)
				{
					continue;
				}
				else if (d[j][i] + d[i][k] < d[j][k])//플로이드가 성립 하지 않으므로 최소 이동시간이 아니다
				{
					return -1;
				}
				else if (d[j][i] + d[i][k] == d[j][k])
				{
					road[j][k] = -1;
				}
			}
		}
	}

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < n; j++) {
			if (road[i][j] != -1)
			{
				min += d[i][j];
			}
		}
	}

	return min/2;
}
